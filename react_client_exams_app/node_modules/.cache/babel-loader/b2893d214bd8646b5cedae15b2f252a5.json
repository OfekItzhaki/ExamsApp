{"ast":null,"code":"import _slicedToArray from\"C:/Users/ofeki/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/ExamApp design ver/ExamsApp/react_client_exams_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useHistory,useLocation}from'';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function StartPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tests=_useState2[0],setTests=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),students=_useState4[0],setStudents=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),studentExists=_useState6[0],setStudentExists=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),firstName=_useState8[0],setFirstName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),lastName=_useState10[0],setLastName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),email=_useState12[0],setEmail=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),link=_useState14[0],setLink=_useState14[1];var location=useLocation();var history=useHistory();var handleSubmit=function handleSubmit(event){console.log(\"handle submit\");event.preventDefault();var test=tests.some(function(test){return test.link===link;});var student=findStudent();if(studentExists){history.push({pathname:\"/student/\".concat(link),// search: '?update=true',  // query string\nstate:{// location state\n// update: true, \nstudent:{studentID:student.studentID,fullName:student.fullName,email:email},test:test}});}};var findStudent=function findStudent(){students.map(function(student){if(student.fullName.includes().toLowerCase(\"\".concat(firstName,\" \").concat(lastName))){console.log(\"student was found\");studentExists(true);return student;}else{console.log(\"student wasn't found\");return null;}});};var fetchStudents=function fetchStudents(){fetch(\"http://localhost:8000/students\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setStudents(data);}).catch(function(err){return console.log('error students:'+err);});};var fetchTests=function fetchTests(){fetch(\"http://localhost:8000/tests\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setTests(data);}).catch(function(err){return console.log('error fetching tests:'+err);});};// Meant for fetching the necessary information on first render\nuseEffect(function(){document.title=\"State Test\";if(location.state){if(location.state.link)setLink(location.state.link);}},[]);// Meant for fetching the necessary information on first render\nuseEffect(function(){var isMounted=true;// note mutable flag\nif(isMounted){// add conditional check\nfetchTests();fetchStudents();}return function(){isMounted=false;};// cleanup toggles value, if unmounted\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"start_page noselect\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Please complete the following form to begin: \"}),/*#__PURE__*/_jsx(\"form\",{id:\"start_page__form\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{id:\"start_page_content__container\",children:[/*#__PURE__*/_jsx(\"table\",{id:\"start_page__table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"label\",{children:\" First Name: \"}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"input\",{className:\"asterisk_input\",value:firstName,type:\"text\",placeholder:\"Type something\",onChange:function onChange(e){return setFirstName(e.target.value);},required:true}),\" \"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"label\",{children:\" Last Name: \"}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"input\",{className:\"asterisk_input\",value:lastName,type:\"text\",placeholder:\"Type something\",onChange:function onChange(e){return setLastName(e.target.value);},required:true}),\" \"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"label\",{children:\" Email: \"}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"input\",{className:\"asterisk_input\",value:email,type:\"text\",placeholder:\"Type something\",onChange:function onChange(e){return setEmail(e.target.value);},required:true}),\" \"]})]})]})}),/*#__PURE__*/_jsx(\"button\",{id:\"submit__button\",type:\"submit\",children:\" Submit \"})]})})]});};","map":{"version":3,"sources":["C:/Users/ofeki/OneDrive/שולחן העבודה/ExamApp design ver/ExamsApp/react_client_exams_app/src/components/pages/Student/StartPage/StartPage.js"],"names":["React","useEffect","useState","useHistory","useLocation","StartPage","tests","setTests","students","setStudents","studentExists","setStudentExists","firstName","setFirstName","lastName","setLastName","email","setEmail","link","setLink","location","history","handleSubmit","event","console","log","preventDefault","test","some","student","findStudent","push","pathname","state","studentID","fullName","map","includes","toLowerCase","fetchStudents","fetch","method","then","res","json","data","catch","err","fetchTests","document","title","isMounted","e","target","value"],"mappings":"qQAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA4BC,QAA5B,KAAqD,OAArD,CACA,OAAgBC,UAAhB,CAA4BC,WAA5B,KAAqD,EAArD,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAEhC,cAAgDH,QAAQ,CAAC,IAAD,CAAxD,wCAAQI,KAAR,eAAwBC,QAAxB,eACA,eAAgDL,QAAQ,CAAC,IAAD,CAAxD,yCAAQM,QAAR,eAAwBC,WAAxB,eACA,eAAgDP,QAAQ,CAAC,KAAD,CAAxD,yCAAQQ,aAAR,eAAwBC,gBAAxB,eAEA,eAAgDT,QAAQ,CAAC,EAAD,CAAxD,yCAAQU,SAAR,eAAwBC,YAAxB,eACA,eAAgDX,QAAQ,CAAC,EAAD,CAAxD,0CAAQY,QAAR,gBAAwBC,WAAxB,gBACA,gBAAgDb,QAAQ,CAAC,EAAD,CAAxD,2CAAQc,KAAR,gBAAwBC,QAAxB,gBAEA,gBAAgDf,QAAQ,CAAC,EAAD,CAAxD,2CAAQgB,IAAR,gBAAwBC,OAAxB,gBAEA,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,CAAAA,OAAO,CAAGlB,UAAU,EAA1B,CAEA,GAAMmB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAF,KAAK,CAACG,cAAN,GAEA,GAAIC,CAAAA,IAAI,CAAGrB,KAAK,CAACsB,IAAN,CAAW,SAACD,IAAD,QAAUA,CAAAA,IAAI,CAACT,IAAL,GAAcA,IAAxB,EAAX,CAAX,CAEA,GAAIW,CAAAA,OAAO,CAAGC,WAAW,EAAzB,CAEA,GAAIpB,aAAJ,CAAmB,CAEfW,OAAO,CAACU,IAAR,CAAa,CACTC,QAAQ,oBAAcd,IAAd,CADC,CAET;AACAe,KAAK,CAAE,CAAG;AACN;AACAJ,OAAO,CAAE,CACLK,SAAS,CAAEL,OAAO,CAACK,SADd,CAELC,QAAQ,CAAEN,OAAO,CAACM,QAFb,CAGLnB,KAAK,CAAEA,KAHF,CAFN,CAOHW,IAAI,CAAEA,IAPH,CAHE,CAAb,EAaH,CACJ,CAxBD,CA0BA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBtB,QAAQ,CAAC4B,GAAT,CAAa,SAACP,OAAD,CAAa,CACtB,GAAIA,OAAO,CAACM,QAAR,CAAiBE,QAAjB,GAA4BC,WAA5B,WAA2C1B,SAA3C,aAAwDE,QAAxD,EAAJ,CAAyE,CACrEU,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACAf,aAAa,CAAC,IAAD,CAAb,CACA,MAAOmB,CAAAA,OAAP,CACH,CAJD,IAIO,CACHL,OAAO,CAACC,GAAR,CAAY,sBAAZ,EACA,MAAO,KAAP,CACH,CACJ,CATD,EAUH,CAXD,CAaA,GAAMc,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBC,KAAK,CAAC,gCAAD,CAAmC,CACpCC,MAAM,CAAE,KAD4B,CAAnC,CAAL,CAGGC,IAHH,CAGQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAHR,EAIGF,IAJH,CAIQ,SAACG,IAAD,CAAU,CACdpC,WAAW,CAACoC,IAAD,CAAX,CACD,CANH,EAOGC,KAPH,CAOS,SAACC,GAAD,QAASvB,CAAAA,OAAO,CAACC,GAAR,CAAY,kBAAoBsB,GAAhC,CAAT,EAPT,EAQH,CATD,CAWA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBR,KAAK,CAAC,6BAAD,CAAgC,CACnCC,MAAM,CAAE,KAD2B,CAAhC,CAAL,CAGCC,IAHD,CAGM,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAHN,EAICF,IAJD,CAIM,SAACG,IAAD,CAAU,CACdtC,QAAQ,CAACsC,IAAD,CAAR,CACD,CAND,EAOCC,KAPD,CAOO,SAACC,GAAD,QAASvB,CAAAA,OAAO,CAACC,GAAR,CAAY,wBAA0BsB,GAAtC,CAAT,EAPP,EAQH,CATD,CAWA;AACA9C,SAAS,CAAC,UAAM,CACZgD,QAAQ,CAACC,KAAT,CAAiB,YAAjB,CAEA,GAAI9B,QAAQ,CAACa,KAAb,CAAoB,CAChB,GAAIb,QAAQ,CAACa,KAAT,CAAef,IAAnB,CAAyBC,OAAO,CAACC,QAAQ,CAACa,KAAT,CAAef,IAAhB,CAAP,CAC5B,CACJ,CANQ,CAMN,EANM,CAAT,CAQE;AACJjB,SAAS,CAAC,UAAM,CACd,GAAIkD,CAAAA,SAAS,CAAG,IAAhB,CAAgC;AAEhC,GAAIA,SAAJ,CAAe,CAAiB;AAC5BH,UAAU,GACVT,aAAa,GAChB,CAED,MAAO,WAAM,CAAEY,SAAS,CAAG,KAAZ,CAAmB,CAAlC,CAAoC;AACrC,CATQ,CASN,EATM,CAAT,CAWE,mBACI,aAAK,SAAS,CAAC,qBAAf,wBACI,yEADJ,cAEI,aAAM,EAAE,CAAC,kBAAT,CAA4B,QAAQ,CAAE7B,YAAtC,uBACI,aAAK,EAAE,CAAC,+BAAR,wBACI,cAAO,EAAE,CAAC,mBAAV,uBACI,sCACI,mCACI,uCAAK,wCAAL,OADJ,cAEI,uCAAK,cAAO,SAAS,CAAC,gBAAjB,CAAkC,KAAK,CAAEV,SAAzC,CAAuD,IAAI,CAAC,MAA5D,CAAmE,WAAW,CAAC,gBAA/E,CAAmG,QAAQ,CAAE,kBAACwC,CAAD,QAAOvC,CAAAA,YAAY,CAACuC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB,EAA7G,CAAmJ,QAAQ,KAA3J,EAAL,OAFJ,GADJ,cAMI,mCACI,uCAAK,uCAAL,OADJ,cAEI,uCAAK,cAAO,SAAS,CAAC,gBAAjB,CAAkC,KAAK,CAAExC,QAAzC,CAAuD,IAAI,CAAC,MAA5D,CAAmE,WAAW,CAAC,gBAA/E,CAAmG,QAAQ,CAAE,kBAACsC,CAAD,QAAOrC,CAAAA,WAAW,CAACqC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAA7G,CAAmJ,QAAQ,KAA3J,EAAL,OAFJ,GANJ,cAWI,mCACI,uCAAK,mCAAL,OADJ,cAEI,uCAAK,cAAO,SAAS,CAAC,gBAAjB,CAAkC,KAAK,CAAEtC,KAAzC,CAAuD,IAAI,CAAC,MAA5D,CAAmE,WAAW,CAAC,gBAA/E,CAAmG,QAAQ,CAAE,kBAACoC,CAAD,QAAOnC,CAAAA,QAAQ,CAACmC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAA7G,CAAmJ,QAAQ,KAA3J,EAAL,OAFJ,GAXJ,GADJ,EADJ,cAoBI,eAAQ,EAAE,CAAC,gBAAX,CAA4B,IAAI,CAAC,QAAjC,sBApBJ,GADJ,EAFJ,GADJ,CA6BH","sourcesContent":["import React, { useEffect,  useState        }   from 'react';\r\nimport        { useHistory, useLocation     }   from ''\r\n\r\nexport default function StartPage() {\r\n\r\n    const [ tests,          setTests            ] = useState(null);\r\n    const [ students,       setStudents         ] = useState(null);\r\n    const [ studentExists,  setStudentExists    ] = useState(false);\r\n\r\n    const [ firstName,      setFirstName        ] = useState(\"\");\r\n    const [ lastName,       setLastName         ] = useState(\"\");\r\n    const [ email,          setEmail            ] = useState(\"\");\r\n\r\n    const [ link,           setLink             ] = useState(\"\");\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = (event) => {\r\n        console.log(\"handle submit\");\r\n        event.preventDefault();\r\n\r\n        let test = tests.some((test) => test.link === link);\r\n\r\n        let student = findStudent();\r\n\r\n        if (studentExists) {\r\n\r\n            history.push({\r\n                pathname: `/student/${link}`,\r\n                // search: '?update=true',  // query string\r\n                state: {  // location state\r\n                    // update: true, \r\n                    student: {\r\n                        studentID: student.studentID,\r\n                        fullName: student.fullName,\r\n                        email: email\r\n                    },\r\n                    test: test\r\n                },\r\n            }); \r\n        }\r\n    }\r\n\r\n    const findStudent = () => {\r\n        students.map((student) => {\r\n            if (student.fullName.includes().toLowerCase(`${firstName} ${lastName}`)) {\r\n                console.log(\"student was found\");\r\n                studentExists(true);\r\n                return student;\r\n            } else {\r\n                console.log(\"student wasn't found\");\r\n                return null;\r\n            }\r\n        })\r\n    }\r\n\r\n    const fetchStudents = () => {\r\n        fetch(\"http://localhost:8000/students\", {\r\n            method: 'GET',\r\n          })\r\n          .then((res) => res.json())\r\n          .then((data) => { \r\n            setStudents(data); \r\n          })\r\n          .catch((err) => console.log('error students:' + err))\r\n    }\r\n\r\n    const fetchTests = () => {\r\n        fetch(\"http://localhost:8000/tests\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => { \r\n          setTests(data); \r\n        })\r\n        .catch((err) => console.log('error fetching tests:' + err))\r\n    }\r\n\r\n    // Meant for fetching the necessary information on first render\r\n    useEffect(() => {\r\n        document.title = \"State Test\";\r\n\r\n        if (location.state) {\r\n            if (location.state.link) setLink(location.state.link);\r\n        }\r\n    }, [])\r\n\r\n      // Meant for fetching the necessary information on first render\r\n  useEffect(() => {\r\n    let isMounted = true;           // note mutable flag\r\n\r\n    if (isMounted) {                // add conditional check\r\n        fetchTests();\r\n        fetchStudents();\r\n    }\r\n\r\n    return () => { isMounted = false }; // cleanup toggles value, if unmounted\r\n  }, [])\r\n\r\n    return (\r\n        <div className=\"start_page noselect\">\r\n            <label> Please complete the following form to begin: </label>\r\n            <form id=\"start_page__form\" onSubmit={handleSubmit}>\r\n                <div id=\"start_page_content__container\">\r\n                    <table id=\"start_page__table\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td> <label> First Name: </label> </td>\r\n                                <td> <input className=\"asterisk_input\" value={firstName}    type=\"text\" placeholder=\"Type something\"    onChange={(e) => setFirstName(e.target.value)}  required/> </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td> <label> Last Name: </label> </td>\r\n                                <td> <input className=\"asterisk_input\" value={lastName}     type=\"text\" placeholder=\"Type something\"    onChange={(e) => setLastName(e.target.value)}   required/> </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td> <label> Email: </label> </td>\r\n                                <td> <input className=\"asterisk_input\" value={email}        type=\"text\" placeholder=\"Type something\"    onChange={(e) => setEmail(e.target.value)}      required/> </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <button id=\"submit__button\" type=\"submit\"> Submit </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n"]},"metadata":{},"sourceType":"module"}