{"ast":null,"code":"import _slicedToArray from\"C:/Users/ofeki/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/ExamApp design ver/ExamsApp/react_client_exams_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{TestTable}from'../../../../Admin/TestTable/TestTable';import{useHistory,useLocation}from'react-router-dom';import styles from'./ManageTests.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ManageTests(){// ---------------------------- Fetch Info Hooks ---------------------------\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),tests=_useState2[0],setTests=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),field=_useState4[0],setField=_useState4[1];// ----------------------------- Content Hooks -----------------------------\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),filter=_useState6[0],setFilter=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filterContent=_useState8[0],setFilterContent=_useState8[1];// ----------------------------------------------------------------------------\nvar location=useLocation();var history=useHistory();var back=function back(){history.goBack();};var createTest=function createTest(){history.push({pathname:'/admin/create-test',// search: '?update=true',  // query string\nstate:{// location state\n// update: true,\nfield:field,test:null}});};var fetchTests=function fetchTests(){fetch(\"http://localhost:8000/tests\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setTests(data);}).catch(function(err){return console.log('error fetching tests:'+err);});};var handleFilterChange=function handleFilterChange(value){setFilterContent(value);value===\"\"?setFilter(false):setFilter(true);};useEffect(function(){document.title=\"Manage Tests\";},[]);// Meant for fetching the necessary information on first render\nuseEffect(function(){var isMounted=true;// note mutable flag\nif(isMounted){// add conditional check\nfetchTests();}if(location.state){if(location.state.field)setField(location.state.field);}return function(){isMounted=false;};// cleanup toggles value, if unmounted\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"manage_tests noselect\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"headers__container\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"page__header\",children:[\" Available Tests for \",field?field:\"\",\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"filter__container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"filter_keywords__container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Filter name by keywords: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"filter__input\",type:\"text\",value:filterContent,onChange:function onChange(e){return handleFilterChange(e.target.value);},placeholder:\"Enter a list of keywords separated by commas\"}),/*#__PURE__*/_jsxs(\"label\",{id:\"filter_state\",children:[\" Filter is \",filter===false?\"OFF\":\"ON\",\"  \"]})]}),/*#__PURE__*/_jsxs(\"label\",{id:\"amount_filtered\",children:[\" Showing \",\"AMOUNT\",\" of total \",\"AMOUNT\",\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"table__container\",children:[tests&&/*#__PURE__*/_jsx(TestTable,{tests:tests}),/*#__PURE__*/_jsxs(\"label\",{type:\"text\",id:\"showing_tests\",children:[\" showing 1-\",\"AMOUNT\",\" of available Tests \"]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"buttons__container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return back();},children:[\"      \",\"<<\",\" Back            \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return createTest();},children:[\"      Create a Test \",\">>\",\"    \"]})]})]});};","map":{"version":3,"sources":["C:/Users/ofeki/OneDrive/שולחן העבודה/ExamApp design ver/ExamsApp/react_client_exams_app/src/components/pages/Admin/MainPage/ManageTests/ManageTests.js"],"names":["React","useEffect","useState","TestTable","useHistory","useLocation","styles","ManageTests","tests","setTests","field","setField","filter","setFilter","filterContent","setFilterContent","location","history","back","goBack","createTest","push","pathname","state","test","fetchTests","fetch","method","then","res","json","data","catch","err","console","log","handleFilterChange","value","document","title","isMounted","e","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState     }   from 'react';\r\nimport        { TestTable               }   from '../../../../Admin/TestTable/TestTable';\r\nimport        { useHistory, useLocation }   from 'react-router-dom';\r\nimport styles                               from './ManageTests.css'\r\n\r\nexport default function ManageTests() {\r\n\r\n    // ---------------------------- Fetch Info Hooks ---------------------------\r\n\r\n    const [ tests,          setTests            ] = useState(null);\r\n\r\n    const [ field,          setField            ] = useState(null);\r\n\r\n    // ----------------------------- Content Hooks -----------------------------\r\n\r\n    const [filter,          setFilter           ] = useState(false);\r\n    const [filterContent,   setFilterContent    ] = useState(\"\");\r\n\r\n    // ----------------------------------------------------------------------------\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    const back = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    const createTest = () => {\r\n        history.push({\r\n            pathname: '/admin/create-test',\r\n            // search: '?update=true',  // query string\r\n            state: {  // location state\r\n                // update: true,\r\n              field: field,\r\n              test: null\r\n            },\r\n        }); \r\n    }\r\n\r\n    const fetchTests = () => {\r\n        fetch(\"http://localhost:8000/tests\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => { \r\n          setTests(data); \r\n        })\r\n        .catch((err) => console.log('error fetching tests:' + err))\r\n    }\r\n\r\n    const handleFilterChange = (value) => {\r\n        setFilterContent(value);\r\n        value === \"\" ? setFilter(false) : setFilter(true);\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.title = \"Manage Tests\";\r\n    }, [])\r\n\r\n    // Meant for fetching the necessary information on first render\r\n    useEffect(() => {\r\n        let isMounted = true;           // note mutable flag\r\n\r\n        if (isMounted) {                // add conditional check\r\n            fetchTests();\r\n        }\r\n\r\n        if (location.state) {\r\n            if (location.state.field) setField(location.state.field);\r\n        }\r\n\r\n        return () => { isMounted = false }; // cleanup toggles value, if unmounted\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"manage_tests noselect\">\r\n            <div id=\"headers__container\">\r\n                <h1 className=\"page__header\"> Available Tests for {field ? field : \"\"} </h1>\r\n            </div>\r\n\r\n            <div id=\"filter__container\">\r\n                <div id=\"filter_keywords__container\">    \r\n                    <label> Filter name by keywords: </label>\r\n                    <input id=\"filter__input\" type=\"text\" value={filterContent} onChange={(e) => handleFilterChange(e.target.value) } placeholder=\"Enter a list of keywords separated by commas\"/>\r\n                    <label id=\"filter_state\"> Filter is {filter === false ? \"OFF\" : \"ON\"}  </label>\r\n                </div>\r\n                <label id=\"amount_filtered\"> Showing {`AMOUNT`} of total {`AMOUNT`} </label>\r\n            </div>\r\n\r\n            <div id=\"table__container\">\r\n                { tests && <TestTable tests={tests} /> }\r\n                <label type=\"text\" id=\"showing_tests\"> showing 1-{`AMOUNT`} of available Tests </label>\r\n            </div>\r\n\r\n            <div id=\"buttons__container\">\r\n                <button className=\"regular__button\" onClick={() =>  back()         }>      {`<<` } Back            </button>\r\n                <button className=\"regular__button\" onClick={() =>  createTest()  }>      Create a Test {`>>`}    </button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}