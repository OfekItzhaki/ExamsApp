{"ast":null,"code":"import _slicedToArray from\"C:/Users/ofeki/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/ExamApp design ver/ExamsApp/react_client_exams_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{QuestionTable}from'../../../../Admin/QuestionTable/QuestionTable';import{useHistory,useLocation}from'react-router-dom';import{Filter}from'../../../../Admin/Filter/Filter';import{fetchTests}from'../../../../../services/tests';import styles from'./ManageQuestions.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ManageQuestions(){// ---------------------------- Fetch Info Hooks ---------------------------\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tags=_useState4[0],setTags=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),field=_useState6[0],setField=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),tests=_useState8[0],setTests=_useState8[1];// ----------------------------- Content Hooks -----------------------------    \nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),filterStatus=_useState10[0],setFilterStatus=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),filterByTags=_useState12[0],setFilterByTags=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),filteredQuestions=_useState14[0],setFilteredQuestions=_useState14[1];// ----------------------------------------------------------------------------\nvar location=useLocation();var history=useHistory();var handleDuplicate=function handleDuplicate(){};var handleEdit=function handleEdit(){};var handleShow=function handleShow(){};var handleDelete=function handleDelete(id){var newQuestions=questions.filter(function(question){return question.id!==id;});setQuestions(newQuestions);};var handleShowAll=function handleShowAll(){};var handleFilterByChange=function handleFilterByChange(value){if(value===\"tags\")setFilterByTags(true);else setFilterByTags(false);};var handleBack=function handleBack(){history.goBack();};var handleNewQuestion=function handleNewQuestion(){history.push({pathname:\"/admin/create-question\",// search: '?update=true',  // query string\nstate:{// location state\n// update: true, \nfield:field,question:null}});};var handleFilterContentChange=function handleFilterContentChange(value){if(value===\"\")setFilterStatus(false);else setFilterStatus(true);var newQuestionList=questions;setFilteredQuestions(newQuestionList.filter(function(question){var contains=false;if(filterByTags===true){question.tags.map(function(tag){if(tag.toLowerCase().includes(value))contains=true;});}else{if(question.title.toLowerCase().includes(value))contains=true;}if(contains===true)return question;else return null;}));};var fetchTests=function fetchTests(){fetch(\"http://localhost:8000/tests\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setTests(data);}).catch(function(err){return console.log('error fetching tests:'+err);});};var fetchTags=function fetchTags(){fetch(\"http://localhost:8000/tags\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setTags(data);}).catch(function(err){return console.log('error fetching tags:'+err);});};var fetchQuestions=function fetchQuestions(){fetch(\"http://localhost:8000/questions\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setQuestions(data);setFilteredQuestions(data);}).catch(function(err){return console.log('error fetching questions:'+err);});};// Meant for fetching the necessary information on first render\nuseEffect(function(){document.title=\"Manage Questions\";var isMounted=true;// note mutable flag\nif(isMounted){// add conditional check \nfetchQuestions();fetchTags();fetchTests();}if(location){if(location.state.field)setField(location.state.field);}return function(){isMounted=false;};// cleanup toggles value, if unmounted\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"manage_questions noselect\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"headers__container\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"page__header\",children:[\" Available Questions for \",field?field:\"\",\" \"]})}),questions&&filteredQuestions&&/*#__PURE__*/_jsx(Filter,{filterStatus:filterStatus,totalAmount:questions.length,filteredAmount:filteredQuestions.length,handleFilterByChange:handleFilterByChange,handleFilterContentChange:handleFilterContentChange}),/*#__PURE__*/_jsx(QuestionTable,{manageQuestions:true,questions:filteredQuestions,filteredQuestions:filteredQuestions,tests:tests,handleShow:handleShow,handleEdit:handleEdit,handleDuplicate:handleDuplicate,handleDelete:handleDelete,handleShowAll:handleShowAll}),/*#__PURE__*/_jsxs(\"div\",{id:\"buttons__container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return handleBack();},children:[\"  \",\"<<\",\" Back         \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return handleNewQuestion();},children:[\"  New Question \",\">>\",\"  \"]})]})]});};","map":{"version":3,"sources":["C:/Users/ofeki/OneDrive/שולחן העבודה/ExamApp design ver/ExamsApp/react_client_exams_app/src/components/pages/Admin/MainPage/ManageQuestions/ManageQuestions.js"],"names":["React","useEffect","useState","QuestionTable","useHistory","useLocation","Filter","fetchTests","styles","ManageQuestions","questions","setQuestions","tags","setTags","field","setField","tests","setTests","filterStatus","setFilterStatus","filterByTags","setFilterByTags","filteredQuestions","setFilteredQuestions","location","history","handleDuplicate","handleEdit","handleShow","handleDelete","id","newQuestions","filter","question","handleShowAll","handleFilterByChange","value","handleBack","goBack","handleNewQuestion","push","pathname","state","handleFilterContentChange","newQuestionList","contains","map","tag","toLowerCase","includes","title","fetch","method","then","res","json","data","catch","err","console","log","fetchTags","fetchQuestions","document","isMounted","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState         }   from 'react';\r\nimport        { QuestionTable               }   from '../../../../Admin/QuestionTable/QuestionTable';\r\nimport        { useHistory, useLocation     }   from 'react-router-dom';\r\nimport        { Filter                      }   from '../../../../Admin/Filter/Filter';\r\nimport        { fetchTests                  }   from '../../../../../services/tests';\r\nimport styles                                   from './ManageQuestions.css';\r\n\r\nexport default function ManageQuestions() {\r\n\r\n    // ---------------------------- Fetch Info Hooks ---------------------------\r\n\r\n    const [ questions,          setQuestions            ]  = useState(null);\r\n    const [ tags,               setTags                 ]  = useState(null);\r\n\r\n    const [ field,              setField                ]  = useState(null);\r\n    const [ tests,              setTests                ]  = useState(null);\r\n\r\n    // ----------------------------- Content Hooks -----------------------------    \r\n\r\n    const [ filterStatus,       setFilterStatus         ]  = useState(false);\r\n    const [ filterByTags,       setFilterByTags         ]  = useState(true);\r\n\r\n    const [ filteredQuestions,  setFilteredQuestions    ]  = useState([]);\r\n\r\n    // ----------------------------------------------------------------------------\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    const handleDuplicate = () => {\r\n        \r\n    }\r\n\r\n    const handleEdit = () => {\r\n\r\n    }\r\n\r\n    const handleShow = () => {\r\n\r\n    }\r\n\r\n    const handleDelete = (id) => {\r\n        const newQuestions = questions.filter(question => question.id !== id);\r\n        setQuestions(newQuestions);\r\n    }\r\n    \r\n    const handleShowAll = () => {\r\n        \r\n    }\r\n    \r\n    const handleFilterByChange = (value) => {\r\n        if (value === \"tags\") setFilterByTags(true);\r\n        else setFilterByTags(false);\r\n    }\r\n    \r\n    const handleBack = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    const handleNewQuestion = () => {\r\n        history.push({\r\n            pathname: \"/admin/create-question\",\r\n            // search: '?update=true',  // query string\r\n            state: {  // location state\r\n                // update: true, \r\n              field: field,\r\n              question: null\r\n            },\r\n        }); \r\n    }\r\n\r\n    const handleFilterContentChange = (value) => {\r\n        \r\n        if (value === \"\") setFilterStatus(false);\r\n        else setFilterStatus(true);\r\n\r\n        let newQuestionList = questions;\r\n        setFilteredQuestions(newQuestionList.filter((question) => { \r\n            \r\n            let contains = false;\r\n\r\n            if (filterByTags === true) {\r\n                question.tags.map((tag) => {\r\n                    if (tag.toLowerCase().includes(value)) contains = true;\r\n                });\r\n            } else {\r\n                if (question.title.toLowerCase().includes(value)) contains = true;\r\n            }\r\n\r\n            if (contains === true) return question;\r\n            else return null;\r\n\r\n        }));\r\n    }\r\n\r\n    const fetchTests = () => {\r\n        fetch(\"http://localhost:8000/tests\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => { \r\n          setTests(data); \r\n        })\r\n        .catch((err) => console.log('error fetching tests:' + err))\r\n    }\r\n\r\n    const fetchTags = () => {\r\n        fetch(\"http://localhost:8000/tags\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => { \r\n          setTags(data); \r\n        })\r\n        .catch((err) => console.log('error fetching tags:' + err));\r\n      }\r\n\r\n    const fetchQuestions = () => {\r\n        fetch(\"http://localhost:8000/questions\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n            setQuestions(data)\r\n            setFilteredQuestions(data);\r\n        })\r\n        .catch((err) => console.log('error fetching questions:' + err));\r\n      }\r\n\r\n    // Meant for fetching the necessary information on first render\r\n    useEffect(() => {\r\n        document.title = \"Manage Questions\";\r\n\r\n        let isMounted = true;           // note mutable flag\r\n\r\n        if (isMounted) {                // add conditional check \r\n            fetchQuestions();\r\n            fetchTags();\r\n            fetchTests();\r\n        }\r\n\r\n        if (location) {\r\n            if (location.state.field) setField(location.state.field);\r\n          }\r\n\r\n        return () => { isMounted = false }; // cleanup toggles value, if unmounted\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"manage_questions noselect\">\r\n            <div id=\"headers__container\">\r\n                <h1 className=\"page__header\"> Available Questions for {field ? field : \"\"} </h1>\r\n            </div>\r\n\r\n            { questions && filteredQuestions && <Filter filterStatus={filterStatus} totalAmount={questions.length} filteredAmount={filteredQuestions.length} \r\n                handleFilterByChange={handleFilterByChange} handleFilterContentChange={handleFilterContentChange}/> }\r\n\r\n            { <QuestionTable manageQuestions={true} questions={filteredQuestions} filteredQuestions={filteredQuestions} tests={tests} handleShow={handleShow} \r\n                handleEdit={handleEdit} handleDuplicate={handleDuplicate} handleDelete={handleDelete} handleShowAll={handleShowAll} /> }\r\n\r\n            <div id=\"buttons__container\">\r\n                <button className=\"regular__button\" onClick={() =>   handleBack()          }>  {`<<` } Back         </button>\r\n                <button className=\"regular__button\" onClick={() =>   handleNewQuestion()   }>  New Question {`>>`}  </button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}