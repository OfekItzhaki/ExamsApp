{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ofeki\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\ExamApp design ver\\\\ExamsApp\\\\react_client_exams_app\\\\src\\\\components\\\\pages\\\\Admin\\\\MainPage\\\\Reports\\\\TestReport\\\\TestReport.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { SummaryTable } from '../../../../../Admin/SummaryTable/SummaryTable';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport styles from './TestReport.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TestReport = () => {\n  _s();\n\n  // ----------------------------- Fetch Info Hooks ----------------------------\n  const [studentTests, setStudentTests] = useState(null);\n  const [test, setTest] = useState(null);\n  const [field, setField] = useState(\"\");\n  const [dateRange, setDateRange] = useState(\"\"); // const [ questions,          setQuestions              ] = useState([]);\n  // ------------------------------ Summary Hooks ------------------------------\n\n  const [numOfSubmissions, setNumOfSubmissions] = useState(0);\n  const [numPassed, setNumPassed] = useState(0);\n  const [passingPercentage, setPassingPercentage] = useState(0);\n  const [averageGrade, setAverageGrade] = useState(0);\n  const [medianGradse, setMedianGrade] = useState(0); // const [ numOfQuestions,      setNumOfQuestions      ] = useState(0);\n  // ------------------------------ Grades Hooks -------------------------------\n\n  const [respondentChosen, setRespondentChosen] = useState(false); // ---------------------------- Statistics Hooks -----------------------------\n\n  const [filterContent, setFilterContent] = useState(\"\"); // ---------------------------------------------------------------------------\n\n  const location = useLocation(); // for location state\n\n  const history = useHistory();\n\n  const back = () => {\n    history.goBack();\n  };\n\n  const expandAll = () => {};\n\n  const exportToExecl = () => {};\n\n  const printReport = () => {};\n\n  const scanThroughStudentTests = data => {\n    // let totalGrades = 0;\n    let submissions = 0;\n    data.map(studentTest => {\n      submissions++; // totalGrades += studentTest.grade;\n\n      console.log(studentTest.grade);\n      if (studentTest.grade >= test.passingGrade) setNumPassed(numPassed + 1);\n      return studentTest;\n    });\n    console.log(submissions);\n    setNumOfSubmissions(submissions); // calc(totalGrades);     \n\n    calc(data);\n  };\n\n  const calc = data => {\n    // Calc passing percentage -> passed divide by total submissions (multiply by 100 to get the percentage)\n    setPassingPercentage(numPassed / numOfSubmissions * 100); // Calc average grade -> total grades divide by total submissions\n\n    let totalGrades = 0;\n    data.map(studentTest => totalGrades += studentTest.grade);\n    console.log(totalGrades);\n    console.log(numOfSubmissions);\n    setAverageGrade(totalGrades / numOfSubmissions); // Calc median grade ->\n    // let newArray = gradeArray;\n    // newArray.sort((a, b) => a - b);\n    // const mean = (...gradesArray) => gradesArray.reduce((acc, val) => acc + val, 0) / gradesArray.length;\n    // console.log(mean(gradesArray));\n  };\n\n  const handleFetchStudentTests = data => {\n    setStudentTests(data);\n    console.log(\"handle fetch students tests\"); // scanThroughStudentTests(data);\n  };\n\n  const countNumberOfQuestions = () => {\n    let counter = 0;\n    test && test.questions.map(() => counter++);\n    return counter;\n  };\n\n  const fetchStudentTests = () => {\n    fetch(\"http://localhost:8000/studentTests\", {\n      method: 'GET'\n    }).then(res => res.json()).then(data => {\n      handleFetchStudentTests(data);\n    }).catch(err => console.log('error fetching student tests: ' + err));\n  };\n\n  useEffect(() => {\n    document.title = \"Test Report\";\n  }, []);\n  useEffect(() => {\n    let isMounted = true; // note mutable flag\n\n    if (isMounted) {\n      // add conditional check\n      fetchStudentTests();\n    }\n\n    setField(location.state.field);\n    setTest(location.state.test);\n    setDateRange(location.state.dateRange);\n    countNumberOfQuestions();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"test_report noselect\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"headers__container\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" Test result for \", field, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"summary__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Summary \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"summary_tables__container\",\n          children: test && /*#__PURE__*/_jsxDEV(SummaryTable, {\n            test: test,\n            dateRange: dateRange,\n            numOfSubmissions: numOfSubmissions,\n            countNumberOfQuestions: countNumberOfQuestions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"grades__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"grades__table\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"header_row space_under border_bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"        ID                                      \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"        Respondent                              \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"        Submitted                               \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"        Number of Questions Answered            \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"        Grade                                   \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"buttons__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"regular__button\",\n            onClick: () => back(),\n            children: [\"             \", `<<`, \" Back         \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"regular__button\",\n            onClick: () => exportToExecl(),\n            children: \"    Export To Excel     \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"regular__button\",\n            onClick: () => printReport(),\n            children: \"      Print Report        \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TestReport, \"lOL2SXvbAMZ58w5xeDrXPTp6rwY=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = TestReport;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestReport\");","map":{"version":3,"sources":["C:/Users/ofeki/OneDrive/שולחן העבודה/ExamApp design ver/ExamsApp/react_client_exams_app/src/components/pages/Admin/MainPage/Reports/TestReport/TestReport.js"],"names":["React","useEffect","useState","SummaryTable","useHistory","useLocation","styles","TestReport","studentTests","setStudentTests","test","setTest","field","setField","dateRange","setDateRange","numOfSubmissions","setNumOfSubmissions","numPassed","setNumPassed","passingPercentage","setPassingPercentage","averageGrade","setAverageGrade","medianGradse","setMedianGrade","respondentChosen","setRespondentChosen","filterContent","setFilterContent","location","history","back","goBack","expandAll","exportToExecl","printReport","scanThroughStudentTests","data","submissions","map","studentTest","console","log","grade","passingGrade","calc","totalGrades","handleFetchStudentTests","countNumberOfQuestions","counter","questions","fetchStudentTests","fetch","method","then","res","json","catch","err","document","title","isMounted","state"],"mappings":"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","sourcesContent":["import React,   { useEffect, useState }          from 'react';\r\nimport          { SummaryTable }                 from '../../../../../Admin/SummaryTable/SummaryTable';\r\nimport          { useHistory, useLocation }      from 'react-router-dom';\r\nimport styles                                    from './TestReport.css'\r\n\r\nexport const TestReport = () => {\r\n\r\n    // ----------------------------- Fetch Info Hooks ----------------------------\r\n\r\n    const [ studentTests,       setStudentTests           ] = useState(null);\r\n\r\n    const [ test,               setTest                   ] = useState(null);\r\n    const [ field,              setField                  ] = useState(\"\");\r\n    const [ dateRange,          setDateRange              ] = useState(\"\");\r\n    // const [ questions,          setQuestions              ] = useState([]);\r\n    \r\n    // ------------------------------ Summary Hooks ------------------------------\r\n    \r\n    const [ numOfSubmissions,   setNumOfSubmissions       ] = useState(0);\r\n    const [ numPassed,          setNumPassed              ] = useState(0);\r\n    const [ passingPercentage,  setPassingPercentage      ] = useState(0);\r\n    const [ averageGrade,       setAverageGrade           ] = useState(0);\r\n    const [ medianGradse,       setMedianGrade            ] = useState(0);\r\n    // const [ numOfQuestions,      setNumOfQuestions      ] = useState(0);\r\n\r\n    // ------------------------------ Grades Hooks -------------------------------\r\n\r\n    const [ respondentChosen,   setRespondentChosen       ] = useState(false);\r\n\r\n    // ---------------------------- Statistics Hooks -----------------------------\r\n\r\n    const [ filterContent,      setFilterContent          ] = useState(\"\");\r\n\r\n    // ---------------------------------------------------------------------------\r\n\r\n    const location = useLocation(); // for location state\r\n    const history = useHistory();\r\n\r\n    const back = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    const expandAll = () => {\r\n\r\n    }\r\n\r\n    const exportToExecl = () => {\r\n\r\n    }\r\n\r\n    const printReport = () => {\r\n\r\n    }\r\n\r\n    const scanThroughStudentTests = (data) => {\r\n        // let totalGrades = 0;\r\n        let submissions = 0;\r\n        data.map((studentTest) => {\r\n            submissions++;\r\n            // totalGrades += studentTest.grade;\r\n            console.log(studentTest.grade);\r\n\r\n            if (studentTest.grade >= test.passingGrade) setNumPassed(numPassed + 1);\r\n            return studentTest;\r\n        });\r\n        console.log(submissions);\r\n        setNumOfSubmissions(submissions);\r\n\r\n        // calc(totalGrades);     \r\n        calc(data);\r\n    }\r\n\r\n    const calc = (data) => {\r\n\r\n        // Calc passing percentage -> passed divide by total submissions (multiply by 100 to get the percentage)\r\n        setPassingPercentage( (numPassed / numOfSubmissions) * 100 );\r\n\r\n        // Calc average grade -> total grades divide by total submissions\r\n        let totalGrades = 0;\r\n        data.map((studentTest) => totalGrades += studentTest.grade)\r\n        console.log(totalGrades);\r\n        console.log(numOfSubmissions);\r\n        setAverageGrade(totalGrades / numOfSubmissions);\r\n\r\n        // Calc median grade ->\r\n        // let newArray = gradeArray;\r\n        // newArray.sort((a, b) => a - b);\r\n        // const mean = (...gradesArray) => gradesArray.reduce((acc, val) => acc + val, 0) / gradesArray.length;\r\n        // console.log(mean(gradesArray));\r\n\r\n    }\r\n\r\n    const handleFetchStudentTests = (data) => {\r\n        setStudentTests(data);\r\n        console.log(\"handle fetch students tests\");\r\n\r\n        // scanThroughStudentTests(data);\r\n    }\r\n\r\n    const countNumberOfQuestions = () => {\r\n        let counter = 0;\r\n        test && test.questions.map(() => counter++);\r\n        return counter;\r\n    }\r\n\r\n    const fetchStudentTests = () => {\r\n        fetch(\"http://localhost:8000/studentTests\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => { \r\n            handleFetchStudentTests(data);\r\n         })\r\n        .catch((err) => console.log('error fetching student tests: ' + err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.title = \"Test Report\";\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;           // note mutable flag\r\n\r\n        if (isMounted) {                // add conditional check\r\n            fetchStudentTests();\r\n        }\r\n\r\n        setField(location.state.field);\r\n        setTest(location.state.test)\r\n        setDateRange(location.state.dateRange);\r\n\r\n        countNumberOfQuestions();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"test_report noselect\">\r\n            <div id=\"headers__container\">\r\n                <h1> Test result for {field} </h1>\r\n            </div>\r\n\r\n            <div id=\"content__container\">\r\n                <div id=\"summary__container\">\r\n                    <h1> Summary </h1>\r\n                    <div id=\"summary_tables__container\">\r\n                        {test && <SummaryTable test={test} dateRange={dateRange} numOfSubmissions={numOfSubmissions}  countNumberOfQuestions={countNumberOfQuestions}/>}\r\n                    </div>\r\n                </div>\r\n                <div id=\"grades__container\">\r\n\r\n                    <table id=\"grades__table\">\r\n                        <tbody>\r\n                            <tr className=\"header_row space_under border_bottom\">\r\n                                <th>        ID                                      </th>\r\n                                <th>        Respondent                              </th>\r\n                                <th>        Submitted                               </th>\r\n                                <th>        Number of Questions Answered            </th>\r\n                                <th>        Grade                                   </th>\r\n                            </tr>\r\n\r\n                            {/* {studentTests && studentTests.map((studentTest) => (                             \r\n                                <>\r\n                                </>\r\n                            ))} */}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <div id=\"buttons__container\">\r\n                        <button className=\"regular__button\" onClick={() => back()}>             {`<<`} Back         </button>\r\n                        <button className=\"regular__button\" onClick={() => exportToExecl()}>    Export To Excel     </button>\r\n                        <button className=\"regular__button\" onClick={() => printReport()}>      Print Report        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}