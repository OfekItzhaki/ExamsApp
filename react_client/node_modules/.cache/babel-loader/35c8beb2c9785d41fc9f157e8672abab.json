{"ast":null,"code":"import _slicedToArray from\"C:/Users/ofeki/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/ExamApp design ver/ExamsApp/react_client_exams_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{QuestionTable}from'../../../../Admin/QuestionTable/QuestionTable';import{useHistory}from'react-router-dom';import styles from'./ManageQuestions.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ManageQuestions=function ManageQuestions(_ref){var field=_ref.field;// ---------------------------- Fetch Info Hooks ---------------------------\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tags=_useState4[0],setTags=_useState4[1];// ----------------------------- Content Hooks -----------------------------    \nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),filter=_useState6[0],setFilter=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),filterByTags=_useState8[0],setFilterByTags=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),filteredQuestions=_useState10[0],setFilteredQuestions=_useState10[1];// ----------------------------------------------------------------------------\nvar history=useHistory();var back=function back(){history.goBack();};var newQuestion=function newQuestion(){history.push(\"/admin/create-question\");};var next=function next(){};var handleDelete=function handleDelete(id){var newQuestions=questions.filter(function(question){return questions.id!==id;});setQuestions(newQuestions);};var handleFilterByChange=function handleFilterByChange(value){if(value===\"tags\")setFilterByTags(true);else setFilterByTags(false);};var handleFilterContentChange=function handleFilterContentChange(value){if(value===\"\")setFilter(false);else setFilter(true);var newQuestionList=questions;setFilteredQuestions(newQuestionList.filter(function(question){var contains=false;if(filterByTags===true){question.tags.map(function(tag){if(tag.toLowerCase().includes(value))contains=true;});}else{if(question.title.includes(value))contains=true;}if(contains===true)return question;}));};var fetchTags=function fetchTags(){fetch(\"http://localhost:8000/tags\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setTags(data);}).catch(function(err){return console.log('error fetching tags:'+err);});};var fetchQuestions=function fetchQuestions(){fetch(\"http://localhost:8000/questions\",{method:'GET'}).then(function(res){return res.json();}).then(function(data){setQuestions(data);setFilteredQuestions(data);}).catch(function(err){return console.log('error fetching questions:'+err);});};// Meant for fetching the necessary information on first render\nuseEffect(function(){document.title=\"Manage Questions\";var isMounted=true;// note mutable flag\nif(isMounted){// add conditional check \nfetchQuestions();fetchTags();}return function(){isMounted=false;};// cleanup toggles value, if unmounted\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"manage_questions noselect\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"headers__container\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"page__header\",children:[\" Available Questions for \",field?field:\"\",\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"filter__container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Filter by: \"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleFilterByChange(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"tags\",children:\"       tags       \"}),/*#__PURE__*/_jsx(\"option\",{value:\"content\",children:\"    content    \"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"filter_by__container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"filter__input\",type:\"text\",onChange:function onChange(e){return handleFilterContentChange(e.target.value);},placeholder:\"Enter a list of keywords separated by commas\"}),/*#__PURE__*/_jsxs(\"label\",{id:\"filter__state\",children:[\"      Filter is   \",filter===false?\"OFF\":\"ON\",\"                                                           \"]}),/*#__PURE__*/_jsxs(\"label\",{id:\"amount__filtered\",children:[\"   Filtered    \",filteredQuestions&&filteredQuestions.length,\" of total \",questions&&questions.length,\"    \"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"questions__container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"table__container\",children:questions&&/*#__PURE__*/_jsx(QuestionTable,{questions:filteredQuestions,tags:tags,handleDelete:handleDelete})}),/*#__PURE__*/_jsxs(\"div\",{id:\"under_table__container\",children:[/*#__PURE__*/_jsxs(\"label\",{type:\"text\",id:\"showing_questions\",children:[\" showing 1-\",\"AMOUNT\",\" of filtered Questions \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return next();},children:[\" Next \",\">>\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return next();},children:[\" Show All \",questions&&questions.length,\" questions \"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"buttons__container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return back();},children:[\"  \",\"<<\",\" Back         \"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"regular__button\",onClick:function onClick(){return newQuestion();},children:[\"  New Question \",\">>\",\"  \"]})]})]});};","map":{"version":3,"sources":["C:/Users/ofeki/OneDrive/שולחן העבודה/ExamApp design ver/ExamsApp/react_client_exams_app/src/components/pages/Admin/MainPage/ManageQuestions/ManageQuestions.js"],"names":["React","useEffect","useState","QuestionTable","useHistory","styles","ManageQuestions","field","questions","setQuestions","tags","setTags","filter","setFilter","filterByTags","setFilterByTags","filteredQuestions","setFilteredQuestions","history","back","goBack","newQuestion","push","next","handleDelete","id","newQuestions","question","handleFilterByChange","value","handleFilterContentChange","newQuestionList","contains","map","tag","toLowerCase","includes","title","fetchTags","fetch","method","then","res","json","data","catch","err","console","log","fetchQuestions","document","isMounted","e","target","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState }   from 'react';\r\nimport        { QuestionTable }      from '../../../../Admin/QuestionTable/QuestionTable';\r\nimport        { useHistory }            from 'react-router-dom';\r\nimport styles                           from './ManageQuestions.css';\r\n\r\nexport const ManageQuestions = ({ field }) => {\r\n\r\n    // ---------------------------- Fetch Info Hooks ---------------------------\r\n\r\n    const [ questions,          setQuestions     ]  = useState(null);\r\n    const [ tags,               setTags          ]  = useState(null);\r\n\r\n    // ----------------------------- Content Hooks -----------------------------    \r\n\r\n    const [ filter,             setFilter        ]  = useState(false);\r\n    const [ filterByTags,       setFilterByTags  ]  = useState(true);\r\n\r\n    const [ filteredQuestions,  setFilteredQuestions  ] = useState([]);\r\n\r\n    // ----------------------------------------------------------------------------\r\n\r\n    const history = useHistory();\r\n\r\n    const back = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    const newQuestion = () => {\r\n        history.push(\"/admin/create-question\");\r\n    }\r\n\r\n    const next = () => {\r\n        \r\n    }\r\n\r\n    const handleDelete = (id) => {\r\n        const newQuestions = questions.filter(question => questions.id !== id);\r\n        setQuestions(newQuestions);\r\n    }\r\n\r\n    const handleFilterByChange = (value) => {\r\n        if (value === \"tags\") setFilterByTags(true);\r\n        else setFilterByTags(false);\r\n    }\r\n\r\n    const handleFilterContentChange = (value) => {\r\n        \r\n        if (value === \"\") setFilter(false);\r\n        else setFilter(true);\r\n\r\n        let newQuestionList = questions;\r\n        setFilteredQuestions(newQuestionList.filter((question) => { \r\n            \r\n            let contains = false;\r\n\r\n            if (filterByTags === true) {\r\n                question.tags.map((tag) => {\r\n                    if (tag.toLowerCase().includes(value)) contains = true;\r\n                });\r\n            } else {\r\n                if (question.title.includes(value)) contains = true;\r\n            }\r\n\r\n            if (contains === true) return question;\r\n\r\n        }));\r\n    }\r\n\r\n    const fetchTags = () => {\r\n        fetch(\"http://localhost:8000/tags\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => { \r\n          setTags(data); \r\n        })\r\n        .catch((err) => console.log('error fetching tags:' + err))\r\n      }\r\n\r\n    const fetchQuestions = () => {\r\n        fetch(\"http://localhost:8000/questions\", {\r\n          method: 'GET',\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n            setQuestions(data)\r\n            setFilteredQuestions(data);\r\n        })\r\n        .catch((err) => console.log('error fetching questions:' + err))\r\n      }\r\n\r\n    // Meant for fetching the necessary information on first render\r\n    useEffect(() => {\r\n        document.title = \"Manage Questions\";\r\n\r\n        let isMounted = true;           // note mutable flag\r\n\r\n        if (isMounted) {                // add conditional check \r\n            fetchQuestions();\r\n            fetchTags();\r\n        }\r\n\r\n        return () => { isMounted = false }; // cleanup toggles value, if unmounted\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"manage_questions noselect\">\r\n            <div id=\"headers__container\">\r\n                <h1 className=\"page__header\"> Available Questions for {field ? field : \"\"} </h1>\r\n            </div>\r\n            <div id=\"filter__container\">\r\n                <label> Filter by: </label>\r\n                <select onChange={ (e) => handleFilterByChange(e.target.value) }>\r\n                    <option value=\"tags\">       tags       </option>\r\n                    <option value=\"content\">    content    </option>\r\n                </select>\r\n\r\n                <div id=\"filter_by__container\">\r\n                    <input id=\"filter__input\" type=\"text\" onChange={ (e) => handleFilterContentChange(e.target.value) } placeholder=\"Enter a list of keywords separated by commas\"/>\r\n                    <label id=\"filter__state\">      Filter is   {filter === false ? \"OFF\" : \"ON\"}                                                           </label>\r\n                    <label id=\"amount__filtered\">   Filtered    {filteredQuestions && filteredQuestions.length} of total {questions && questions.length}    </label>\r\n                </div>\r\n            </div>\r\n            <div id=\"questions__container\">\r\n                <div id=\"table__container\">\r\n                    {questions && <QuestionTable questions={filteredQuestions} tags={tags} handleDelete={handleDelete} /> }\r\n                </div>\r\n                <div id=\"under_table__container\">\r\n                    <label type=\"text\" id=\"showing_questions\"> showing 1-{`AMOUNT`} of filtered Questions </label>\r\n                    <button className=\"regular__button\" onClick={() =>   next()          }> Next {`>>`} </button>\r\n                    <button className=\"regular__button\" onClick={() =>   next()          }> Show All {questions && questions.length} questions </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"buttons__container\">\r\n                <button className=\"regular__button\" onClick={() =>   back()          }>  {`<<` } Back         </button>\r\n                <button className=\"regular__button\" onClick={() =>   newQuestion()   }>  New Question {`>>`}  </button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}